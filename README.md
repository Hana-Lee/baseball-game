# 야구 게임 [![Build Status](https://travis-ci.org/Hana-Lee/baseball-game.svg?branch=master)](https://travis-ci.org/Hana-Lee/baseball-game)
자바를 공부하며 만들어 보는 야구 게임

## 야구게임 설계

### 규칙

* 공격과 수비로 나눈다.
* 수비를 하는 사람이 0-9 까지의 숫자중 중복되지 않는 임의의 숫자 3개를 만든다.
* 공격자는 3자리의 숫자를 중복되지 않게 입력이 가능하며 3자리 이상, 이하로는 입력 할 수 없다.
* 수비자는 자신이 만든 숫자와 공격자가 입력한 숫자의 자리, 같은수를 판단한다.
* 수비자는 같은 자리의 같은 숫자일 경우 스트라이크, 다른 자리 같은 숫자일 경우 볼, 없는 숫자일경우 아웃을 말하며 결과를 합쳐서 최종적으로 알려준다.
* 아웃은 아무것도 맞는 숫자가 없을 경우에만 말한다. (1스트라이크 1볼 일 경우 1아웃은 말하지 않는다.)

```
예) 수비 (2, 4, 8) - 공격 (4, 5, 8) = 1스트라이크 1볼 (4는 자리는 다르지면 같은 수 이므로 1볼, 8은 같은 자리 같은 수 이므로 1스트라이크 이다)
예) 수비 (2, 4, 8) - 공격 (1, 2, 3) = 1볼
예) 수비 (2, 4, 8) - 공격 (1, 3, 7) = 3아웃
예) 수비 (2, 4, 8) - 공격 (2, 4, 9) = 2스트라이크
```

* 공격자가 입력할 수 있는 횟수는 게임 시작전 임의의 룰로 정할 수 있다. 기본 10회
	* 5단계로 있으며 선택가능하다
	```
	1. 1회
	2. 5회
	3. 10회
	4. 15회
	5. 20회
	```
	* 5단위로 입력이 가능하며 최소 1, 최대 20까지 입력이 가능하다
* 5변이상 잘못된 입력을 할 경우 게임 종료되며 점수는 0점이 된다.
* 정해진 횟수 안에 3스트라이크가 나오게 되면 공격자 승, 수비자 패
	* 횟수를 넘어 서면 공격자 패, 수비자 승
* 매번 게임이 시작될때 유저 리스트와 설정 정보와 전체 게임 진행 횟수를 보여준다.

### 게임룸 규칙
* 게임룸에는 최대 5명 최소 1명의 유저가 입장 가능하다.
* 게임룸 입장시 유저 리스트, 유저별 점수, 유저별 게임 진행 횟수, 설정 정보를 보여준다.
* 게임룸을 생성한 유저가 방장이 된다
* 방장이 게임룸을 나가는 경우 남은 유저중 랜덤하게 방장 권한 부여
* 방장은 게임의 설정을 바꿀 수 있다
* 게임룸에는 1명 혹은 0명의 수비자가 있을 수 있고 나머지는 공격자가 된다.
* 1명의 유저가 공격 역할일 경우 1인 게임도 가능하다
* 1명의 유저가 수비 역할일 경우 진행 불가
* 공격 역할은 게임룸당 1명만 존재 할 수 있다
* 게임 매 턴마다 게임의 턴횟수를 보여준다
* 게임을 맞춘 사람이 나타날 경우 등수, 점수, 아이디를 보여준다

### 점수 규칙
* 공격 (기본 10회 기준)
	* 1등 100점
	* 2등 90점
	* 3등 80점
	* 4등 70점
	* 5등 60점
	* 끝까지 못맞췄을 경우 1점
	* 동일한 횟수에 맞췄을 경우 더 빨리 입력하여 맞춘 사람이 높은 등수를 얻는다
* 수비 (기본 10회 기준)
	* 맞춘 사람 0명 400점
	* 맞춘 사람 1명 300점
	* 맞춘 사람 2명 200점
	* 맞춘 사람 3명 100점
	* 맞춘 사람 4명 50점
* 모든 점수는 설정된 최대 횟수 만큼 차감된다
	* 공격은 기본 횟수보다 적을 경우 점수가 2배씩 늘어난다. (5회 1회)
	* 수비는 기본 횟수보다 적을 경우 점수가 2배씩 줄어든다. (5회 1회)
	* 공격은 기본 횟수보다 많을 경우 점수가 2배씩 줄어든다 (15회 20회)
	* 수비는 기본 횟수보다 많을 경우 점수가 2배씩 늘어난다 (15회 20회)
	* 점수 예
	```
	5회 공격 1등 200점 (2배)
	1회 공격 1등 400점 (2배 의 2배)

	5회 수비 0명 200점 (0.5배)
	1회 수비 0등 100점 (0.5배의 0.5배)

	15회 공격 1등 100점
	20회 공격 1등 50점

	15회 수비 0명 800점
	20회 공격 0등 1600점
	```

### 게임 진행
1. 게임룸 생성시
	1. 게임룸 생성
	1. 아이디 입력
	1. 역할 선택 (공격, 수비)
		1. 수비일때 다른 유저 입장 대기
		1. 공격일때 서버에서 만들어내는 숫자를 가지고 1인 플레이 가능
	1. 게임룸을 생성한 사람만이 게임룸의 설정(규칙)을 변경할 수 있다.
1. 게임룸 입장시
	1. 게임룸 선택
	1. 아이디 입력
	1. 역할 선택 (공격, 수비)
		1. 이미 공격이 있을경우 선택 불가
1. 게임룸 탈퇴시
	1. 게임룸을 생성한 사람이 나갈 경우 게임룸에 존재하는 유저중 랜덤하게 방장 부여
	1. 모든 유저가 나갈 경우 게임룸은 삭제
1. 게임 진행
	1. 게임룸의 모든 유저가 준비를 선택하면 바로시작
	1. 턴방식으로 게임 진행
		1. 모든 사용자가 정상적으로 입력을 마치면 다음 단계로 진행
	1. 모든 사용자가 맞추거나 입력 제한을 초과한 경우 현재의 게임 점수를 출력하고 종료

### 기능 정의

* 사용자 입력 기능
* 0-9 사이 중복되지 않는 숫자 {3}자리 생성 기능
	* 설정에 따라 3자리 이상 나올수 있음
* 사용자 입력과 생성된 숫자 비교 기능
	* 입력값과 생성된 수의 자리 비교
	* 비교 결과 출력
* 사용자 입력 횟수 제한 기능
	* 기본 10회 (설정 가능)
* 입력 시간 제한 기능 (추가 대기)
	* 기본 120초 (설정 가능)
* 최종 결과 출력 기능
* 점수 기능
	* 기준 점수를 두고 차감하는 방식으로 한다
	* 횟수만큼 차감 (적은 횟수로 맞출 수록 점수는 높아진다)
	* 시간에 따라 차감 (빨리 입력 할 수록 점수는 높아진다)
* 점수 출력 후 사용자의 입력을 받아 기록하는 기능(오락실 게임이 끝나고 점수 기록하는 화면 참고)
* 게임 결과 기록 기능 (히스토리)
* 지난 결과 조회 기능
* 네트워크 (옵션)
	* 게임룸 생성 기능
	* 게임룸은 최대 5명까지 인원 제한
	* 게임룸에는 현재까지 진행된 게임의 횟수를 기록 및 출력
	* 생성된 숫자 하나를 여러명이서 대결하는 기능
	* 입력된 숫자와 결과는 입력한 사람만 볼 수 있는 기능
	* 먼저 맞춘 사람이 최종 승자
	* 결과 기록

### 클래스 설계
* 작성중...
